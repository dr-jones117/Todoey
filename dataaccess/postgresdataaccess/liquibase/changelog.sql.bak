--liquibase formatted sql

--changeset jonah:1 labels:init
CREATE TABLE todo (
    id SERIAL PRIMARY KEY, 
    completed BOOLEAN NOT NULL,
    value TEXT NOT NULL,
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    todo_list_id INT NOT NULL, 

    FOREIGN KEY (todo_list_id) REFERENCES todo_list(id) ON DELETE CASCADE
)

CREATE TABLE todo_list (
    id SERIAL PRIMARY KEY,
    title VARCHAR(127) NOT NULL,
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
)
--rollback DROP TABLE todo



